---

---

### 문제 설명

---

1부터 입력받은 숫자 n 사이에 있는 소수의 개수를 반환하는 함수, solution을 만들어 보세요.

소수는 1과 자기 자신으로만 나누어지는 수를 의미합니다.(1은 소수가 아닙니다.)

### 제한 조건

- n은 2이상 1000000이하의 자연수입니다.

**입출력 예**

n  = 10 → result = 4

n = 5 → result = 3

### 문제풀이

---

문제는 매우 간단했다.

그냥 1부터 입력받은 숫자 n까지 순차적으로 반복하면서 소수의 개수를 찾아내서 이를 반환하면 된다.

문제는 바로 이해했으나 코드 짜는것이 생각보다 쉽지는 않았다... (늅늅)

처음 작성한 코드는 아래와 같다.

    def solution(n):
    	result = 0
    	for i in range(2, n+1):
    			if i==2 or i==3 or i==5:
    					result += 1
    			else:
    					if i%2 != 0 and i%3 != 0 and i%5 != 0:
    						result += 1
    	return result
    

매~~~~~우 원시적인 접근이다.

소수의 조건은 1과 자기자신으로만 나누어 떨어지는 수다.

따라서 소수를 제외한 모든  정수가 2, 3 그리고 5의 배수로 이루어진다는 생각에 위와 같이 댕청하게 코드를 작성했다.

문제를 풀기 위한 핵심 알고리즘을 모르니 풀지를 못했다.

소수라는 것은 1과 자기 자신 이외에 약수가 없는 수를 의미한다.
이를 완전 탐색 코드로 작성한다면 입력값이 작거나 같은 수들을 하나씩 차례로 나누어 소수를 판별하는 방법도 있겠지만 이 방법은 입력값이 커질 경우 연산량이 기하급수적으로 늘어나기 때문에 효율적인 코드가 될 수 없다.

소수를 구하는 알고리즘을 찾다보니 `에라토스테네스의 체` 라는 방법이 있었다.

내용은 아래와 같다.

일단 짝수는 소수가 될 수 없으므로 n 미만의 자연수들 중 홀수만을 뽑아낸다.

    a = [i for i in range(3, n+1, 2)]

a 라는 배열에는 3부터 시작하는 n미만의 정수가 +2값씩 진행하며 들어간다.

이제 이 배열에서 배수들을 에라토스테네스의 체를 이용해 필터링한다.

a의 첫번째 인덱스 값인 3의 배수들 제거 [3, 5, 7, 9, 11, 13, 15, 17 ...] → [5, 7, 11, 13, 17 ...]

이후 5의 배수 제거, 7의 배수 제거, 13의 배수 제거 .....를 진행하며 n 미만의 자연수까지 진행하면 소수만이 남게된다.

이를 코드화하면 아래와 같다.

    def solution(n):
    	a = set([i for i in range(3, n+1, 2)])
    	for i in range(3, n+1, 2):
    		if i in a:
    			a -= set([i for i in range(i*2, n+1, i)])
    	return len(a)+1

원소들의 묶음을 피연산자로 계산하기 위해 `set` 을 사용했다.
